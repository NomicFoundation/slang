# yaml-language-server: $schema=../../../../../syntax-schema/syntax/schema/topic.schema.json

- name: LeadingTrivia
  pattern: Token
  zeroOrMore:
    choice:
      - reference: Whitespace
      - reference: EOL
      - reference: Comment
      - reference: LineComment


- name: TrailingTrivia
  pattern: Token
  optional:
    sequence:
      - zeroOrMore:
          choice:
            - reference: Whitespace
            - reference: Comment
      - choice:
          - reference: EOL
          - reference: LineComment


- name: EOFTrivia
  pattern: Token
  zeroOrMore:
    choice:
      - reference: Whitespace
      - reference: Comment
      - reference: LineComment


- name: Whitespace
  pattern: Token
  oneOrMore:
    choice:
      - terminal: " "
      - terminal: "\t"


- name: EOL
  pattern: Token
  oneOrMore:
    choice:
      - terminal: "\r"
      - terminal: "\n"


- name: Comment
  pattern: Token
  sequence:
    - terminal: /*
    - config: { name: content }
      sequence:
        - zeroOrMore:
            choice:
              - not:
                  terminal: "*"
              - sequence:
                  - oneOrMore:
                      terminal: "*"
                  - not:
                      choice:
                        - terminal: "*"
                        - terminal: /
        - zeroOrMore:
            terminal: "*"
    - terminal: "*/"


- name: LineComment
  pattern: Token
  sequence:
    - terminal: //
    - zeroOrMore:
        not:
          choice:
            - terminal: "\r"
            - terminal: "\n"

