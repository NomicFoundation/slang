# yaml-language-server: $schema=../../../../../syntax-schema/syntax/schema/topic.schema.json

- name: LeadingTrivia
  kind: Token
  zeroOrMore:
    choice:
      - reference: Whitespace
      - reference: EndOfLine
      - reference: Comment
      - reference: LineComment

- name: TrailingTrivia
  kind: Token
  optional:
    sequence:
      - zeroOrMore:
          choice:
            - reference: Whitespace
            - reference: Comment
      - choice:
          - reference: EndOfLine
          - reference: LineComment

- name: EndOfFileTrivia
  kind: Token
  zeroOrMore:
    choice:
      - reference: Whitespace
      - reference: Comment
      - reference: LineComment

- name: Whitespace
  kind: Token
  oneOrMore:
    choice:
      - terminal: " "
      - terminal: "\t"

- name: EndOfLine
  kind: Token
  oneOrMore:
    choice:
      - terminal: "\r"
      - terminal: "\n"

- name: Comment
  kind: Token
  sequence:
    - terminal: /*
    - config: { name: content }
      sequence:
        - zeroOrMore:
            choice:
              - not:
                  terminal: "*"
              - sequence:
                  - oneOrMore:
                      terminal: "*"
                  - not:
                      choice:
                        - terminal: "*"
                        - terminal: /
        - zeroOrMore:
            terminal: "*"
    - terminal: "*/"

- name: LineComment
  kind: Token
  sequence:
    - terminal: //
    - zeroOrMore:
        not:
          choice:
            - terminal: "\r"
            - terminal: "\n"
