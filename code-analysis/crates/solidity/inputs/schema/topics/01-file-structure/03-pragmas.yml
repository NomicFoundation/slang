# yaml-language-server: $schema=../../../../../codegen/schema/json-schema/topic.schema.json

- name: PragmaDirective
  sequence:
    - terminal: pragma
    - choice:
        - reference: VersionPragma
        - reference: ABICoderPragma
        - reference: ExperimentalPragma
    - terminal: ;

- name: VersionPragma
  sequence:
    - terminal: solidity
    - oneOrMore:
        reference: VersionPragmaSpecifier

- name: VersionPragmaSpecifier
  sequence:
    - optional:
        reference: VersionPragmaOperator
    - separatedBy:
        reference: VersionPragmaValue
        separator: "."

- name: VersionPragmaOperator
  kind: Token
  choice:
    - terminal: "^"
    - terminal: "~"
    - terminal: "="
    - terminal: "<"
    - terminal: ">"
    - terminal: "<="
    - terminal: ">="

- name: VersionPragmaValue
  kind: Token
  oneOrMore:
    choice:
      - range: { from: "0", to: "9" }
      - terminal: "x"
      - terminal: "X"
      - terminal: "*"

- name: ABICoderPragma
  sequence:
    - terminal: abicoder
    - reference: Identifier

- name: ExperimentalPragma
  sequence:
    - terminal: experimental
    - reference: Identifier
