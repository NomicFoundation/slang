# yaml-language-server: $schema=../../../../../../codegen/schema/generated/topic.schema.json

- name: "PragmaDirective"
  kind: "Rule"
  unversioned:
    sequence:
      - terminal: "pragma"
      - choice:
          - reference: "VersionPragma"
          - reference: "ABICoderPragma"
          - reference: "ExperimentalPragma"
      - terminal: ";"

- name: "VersionPragma"
  kind: "Rule"
  unversioned:
    sequence:
      - terminal: "solidity"
      - oneOrMore:
          reference: "VersionPragmaSpecifier"

- name: "VersionPragmaSpecifier"
  kind: "Rule"
  unversioned:
    sequence:
      - optional:
          reference: "VersionPragmaOperator"
      - separatedBy:
          separator: "."
          expression:
            reference: "VersionPragmaValue"

- name: "VersionPragmaOperator"
  kind: "Token"
  unversioned:
    choice:
      - terminal: "^"
      - terminal: "~"
      - terminal: "="
      - terminal: "<"
      - terminal: ">"
      - terminal: "<="
      - terminal: ">="

- name: "VersionPragmaValue"
  kind: "Token"
  unversioned:
    oneOrMore:
      choice:
        - range:
            from: "0"
            to: "9"
        - terminal: "x"
        - terminal: "X"
        - terminal: "*"

- name: "ABICoderPragma"
  kind: "Rule"
  unversioned:
    sequence:
      - terminal: "abicoder"
      - reference: "Identifier"

- name: "ExperimentalPragma"
  kind: "Rule"
  unversioned:
    sequence:
      - terminal: "experimental"
      - reference: "Identifier"
